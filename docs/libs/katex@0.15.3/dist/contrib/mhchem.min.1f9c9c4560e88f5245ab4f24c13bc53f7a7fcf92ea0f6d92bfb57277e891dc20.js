(function(t,e){if(typeof exports=="object"&&typeof module=="object")module.exports=e(require("katex"));else if(typeof define=="function"&&define.amd)define(["katex"],e);else{var s,n=typeof exports=="object"?e(require("katex")):e(t.katex);for(s in n)(typeof exports=="object"?exports:t)[s]=n[s]}})(typeof self!="undefined"?self:this,function(e){return function(){"use strict";var n,o={771:function(t){t.exports=e}},s={};function t(n){var e,i=s[n];return i!==void 0?i.exports:(e=s[n]={exports:{}},o[n](e,e.exports,t),e.exports)}return!function(){t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,{a:n}),n}}(),!function(){t.d=function(s,n){for(var e in n)t.o(n,e)&&!t.o(s,e)&&Object.defineProperty(s,e,{enumerable:!0,get:n[e]})}}(),!function(){t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),n={},!function(){var e,n,i,a=t(771),o=t.n(a);o().__defineMacro("\\ce",function(e){return i(e.consumeArgs(1)[0],"ce")}),o().__defineMacro("\\pu",function(e){return i(e.consumeArgs(1)[0],"pu")}),o().__defineMacro("\\tripledash","{\\vphantom{-}\\raisebox{2.56mu}{$\\mkern2mu\\tiny\\text{-}\\mkern1mu\\text{-}\\mkern1mu\\text{-}\\mkern2mu$}}"),i=function(t,r){for(var a,o="",i=t[t.length-1].loc.start,s=t.length-1;s>=0;s--)t[s].loc.start>i&&(o+=" ",i=t[s].loc.start),o+=t[s].text,i+=t[s].text.length;return a=n.go(e.go(o,r)),a},e={go:function(t,m){if(!t)return[];m===void 0&&(m="ce");var n,s,o,i,a,r,c,l,d,f,h="0",u={};for(u.parenthesisLevel=0,t=t.replace(/\n/g," "),t=t.replace(/[\u2212\u2013\u2014\u2010]/g,"-"),t=t.replace(/[\u2026]/g,"..."),r=10,d=[];!0;){f!==t?(r=10,f=t):r--,o=e.stateMachines[m],c=o.transitions[h]||o.transitions["*"];iterateTransitions:for(a=0;a<c.length;a++)if(i=e.patterns.match_(c[a].pattern,t),i){n=c[a].task;for(s=0;s<n.action_.length;s++){if(o.actions[n.action_[s].type_])l=o.actions[n.action_[s].type_](u,i.match_,n.action_[s].option);else if(e.actions[n.action_[s].type_])l=e.actions[n.action_[s].type_](u,i.match_,n.action_[s].option);else throw["MhchemBugA","mhchem bug A. Please report. ("+n.action_[s].type_+")"];e.concatArray(d,l)}if(h=n.nextState||h,t.length>0){if(n.revisit||(t=i.remainder),!n.toContinue)break iterateTransitions}else return d}if(r<=0)throw["MhchemBugU","mhchem bug U. Please report."]}},concatArray:function(n,e){if(e)if(Array.isArray(e))for(var t=0;t<e.length;t++)n.push(e[t]);else n.push(e)},patterns:{patterns:{empty:/^$/,else:/^./,else2:/^./,space:/^\s/,'space A':/^\s(?=[A-Z\\$])/,space$:/^\s$/,'a-z':/^[a-z]/,x:/^x/,x$:/^x$/,i$:/^i$/,letters:/^(?:[a-zA-Z\u03B1-\u03C9\u0391-\u03A9?@]|(?:\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))))+/,'\\greek':/^\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega|Gamma|Delta|Theta|Lambda|Xi|Pi|Sigma|Upsilon|Phi|Psi|Omega)(?:\s+|\{\}|(?![a-zA-Z]))/,'one lowercase latin letter $':/^(?:([a-z])(?:$|[^a-zA-Z]))$/,'$one lowercase latin letter$ $':/^\$(?:([a-z])(?:$|[^a-zA-Z]))\$$/,'one lowercase greek letter $':/^(?:\$?[\u03B1-\u03C9]\$?|\$?\\(?:alpha|beta|gamma|delta|epsilon|zeta|eta|theta|iota|kappa|lambda|mu|nu|xi|omicron|pi|rho|sigma|tau|upsilon|phi|chi|psi|omega)\s*\$?)(?:\s+|\{\}|(?![a-zA-Z]))$/,digits:/^[0-9]+/,'-9.,9':/^[+-]?(?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))/,'-9.,9 no missing 0':/^[+-]?[0-9]+(?:[.,][0-9]+)?/,'(-)(9.,9)(e)(99)':function(t){var e=t.match(/^(\+-|\+\/-|\+|-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))?(\((?:[0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+))\))?(?:([eE]|\s*(\*|x|\\times|\u00D7)\s*10\^)([+-]?[0-9]+|\{[+-]?[0-9]+\}))?/);return e&&e[0]?{match_:e.splice(1),remainder:t.substr(e[0].length)}:null},'(-)(9)^(-9)':function(t){var e=t.match(/^(\+-|\+\/-|\+|-|\\pm\s?)?([0-9]+(?:[,.][0-9]+)?|[0-9]*(?:\.[0-9]+)?)\^([+-]?[0-9]+|\{[+-]?[0-9]+\})/);return e&&e[0]?{match_:e.splice(1),remainder:t.substr(e[0].length)}:null},'state of aggregation $':function(n){var t,s=e.patterns.findObserveGroups(n,"",/^\([a-z]{1,3}(?=[),])/,")","");return s&&s.remainder.match(/^($|[\s,;)\]}])/)?s:(t=n.match(/^(?:\((?:\\ca\s?)?\$[amothc]\$\))/),t?{match_:t[0],remainder:n.substr(t[0].length)}:null)},'_{(state of aggregation)}$':/^_\{(\([a-z]{1,3}\))\}/,'{[(':/^(?:\\\{|\[|\()/,')]}':/^(?:\)|\]|\\\})/,', ':/^[,;]\s*/,',':/^[,;]/,'.':/^[.]/,'. ':/^([.\u22C5\u00B7\u2022])\s*/,'...':/^\.\.\.(?=$|[^.])/,'* ':/^([*])\s*/,'^{(...)}':function(t){return e.patterns.findObserveGroups(t,"^{","","","}")},'^($...$)':function(t){return e.patterns.findObserveGroups(t,"^","$","$","")},'^a':/^\^([0-9]+|[^\\_])/,'^\\x{}{}':function(t){return e.patterns.findObserveGroups(t,"^",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},'^\\x{}':function(t){return e.patterns.findObserveGroups(t,"^",/^\\[a-zA-Z]+\{/,"}","")},'^\\x':/^\^(\\[a-zA-Z]+)\s*/,'^(-1)':/^\^(-?\d+)/,'\'':/^'/,'_{(...)}':function(t){return e.patterns.findObserveGroups(t,"_{","","","}")},'_($...$)':function(t){return e.patterns.findObserveGroups(t,"_","$","$","")},_9:/^_([+-]?[0-9]+|[^\\])/,'_\\x{}{}':function(t){return e.patterns.findObserveGroups(t,"_",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},'_\\x{}':function(t){return e.patterns.findObserveGroups(t,"_",/^\\[a-zA-Z]+\{/,"}","")},'_\\x':/^_(\\[a-zA-Z]+)\s*/,'^_':/^(?:\^(?=_)|_(?=\^)|[\^_]$)/,'{}':/^\{\}/,'{...}':function(t){return e.patterns.findObserveGroups(t,"","{","}","")},'{(...)}':function(t){return e.patterns.findObserveGroups(t,"{","","","}")},'$...$':function(t){return e.patterns.findObserveGroups(t,"","$","$","")},'${(...)}$':function(t){return e.patterns.findObserveGroups(t,"${","","","}$")},'$(...)$':function(t){return e.patterns.findObserveGroups(t,"$","","","$")},'=<>':/^[=<>]/,'#':/^[#\u2261]/,'+':/^\+/,'-$':/^-(?=[\s_},;\]/]|$|\([a-z]+\))/,'-9':/^-(?=[0-9])/,'- orbital overlap':/^-(?=(?:[spd]|sp)(?:$|[\s,;)\]}]))/,'-':/^-/,'pm-operator':/^(?:\\pm|\$\\pm\$|\+-|\+\/-)/,operator:/^(?:\+|(?:[-=<>]|<<|>>|\\approx|\$\\approx\$)(?=\s|$|-?[0-9]))/,arrowUpDown:/^(?:v|\(v\)|\^|\(\^\))(?=$|[\s,;)\]}])/,'\\bond{(...)}':function(t){return e.patterns.findObserveGroups(t,"\\bond{","","","}")},'->':/^(?:<->|<-->|->|<-|<=>>|<<=>|<=>|[\u2192\u27F6\u21CC])/,CMT:/^[CMT](?=\[)/,'[(...)]':function(t){return e.patterns.findObserveGroups(t,"[","","","]")},'1st-level escape':/^(&|\\\\|\\hline)\s*/,'\\,':/^(?:\\[, ;:])/,'\\x{}{}':function(t){return e.patterns.findObserveGroups(t,"",/^\\[a-zA-Z]+\{/,"}","","","{","}","",!0)},'\\x{}':function(t){return e.patterns.findObserveGroups(t,"",/^\\[a-zA-Z]+\{/,"}","")},'\\ca':/^\\ca(?:\s+|(?![a-zA-Z]))/,'\\x':/^(?:\\[a-zA-Z]+\s*|\\[_&{}%])/,orbital:/^(?:[0-9]{1,2}[spdfgh]|[0-9]{0,2}sp)(?=$|[^a-zA-Z])/,others:/^[/~|]/,'\\frac{(...)}':function(t){return e.patterns.findObserveGroups(t,"\\frac{","","","}","{","","","}")},'\\overset{(...)}':function(t){return e.patterns.findObserveGroups(t,"\\overset{","","","}","{","","","}")},"\\underset{(...)}":function(t){return e.patterns.findObserveGroups(t,"\\underset{","","","}","{","","","}")},"\\underbrace{(...)}":function(t){return e.patterns.findObserveGroups(t,"\\underbrace{","","","}_","{","","","}")},'\\color{(...)}0':function(t){return e.patterns.findObserveGroups(t,"\\color{","","","}")},'\\color{(...)}{(...)}1':function(t){return e.patterns.findObserveGroups(t,"\\color{","","","}","{","","","}")},'\\color(...){(...)}2':function(t){return e.patterns.findObserveGroups(t,"\\color","\\","",/^(?=\{)/,"{","","","}")},'\\ce{(...)}':function(t){return e.patterns.findObserveGroups(t,"\\ce{","","","}")},oxidation$:/^(?:[+-][IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,'d-oxidation$':/^(?:[+-]?\s?[IVX]+|\\pm\s*0|\$\\pm\$\s*0)$/,'roman numeral':/^[IVX]+/,'1/2$':/^[+-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+(?:\$[a-z]\$|[a-z])?$/,amount:function(n){if(t=n.match(/^(?:(?:(?:\([+-]?[0-9]+\/[0-9]+\)|[+-]?(?:[0-9]+|\$[a-z]\$|[a-z])\/[0-9]+|[+-]?[0-9]+[.,][0-9]+|[+-]?\.[0-9]+|[+-]?[0-9]+)(?:[a-z](?=\s*[A-Z]))?)|[+-]?[a-z](?=\s*[A-Z])|\+(?!\s))/),t)return{match_:t[0],remainder:n.substr(t[0].length)};var t,s=e.patterns.findObserveGroups(n,"","$","$","");return s&&(t=s.match_.match(/^\$(?:\(?[+-]?(?:[0-9]*[a-z]?[+-])?[0-9]*[a-z](?:[+-][0-9]*[a-z]?)?\)?|\+|-)\$$/),t)?{match_:t[0],remainder:n.substr(t[0].length)}:null},amount2:function(e){return this.amount(e)},'(KV letters),':/^(?:[A-Z][a-z]{0,2}|i)(?=,)/,formula$:function(e){if(e.match(/^\([a-z]+\)$/))return null;var t=e.match(/^(?:[a-z]|(?:[0-9 +\-,.()]+[a-z])+[0-9 +\-,.()]*|(?:[a-z][0-9 +\-,.()]+)+[a-z]?)$/);return t?{match_:t[0],remainder:e.substr(t[0].length)}:null},uprightEntities:/^(?:pH|pOH|pC|pK|iPr|iBu)(?=$|[^a-zA-Z])/,'/':/^\s*(\/)\s*/,'//':/^\s*(\/\/)\s*/,'*':/^\s*[*.]\s*/},findObserveGroups:function(e,g,p,r,f,c,l,m,d,u){var t,s,i,a,o=function(t,e){if(typeof e=="string")return t.indexOf(e)!==0?null:e;var n=t.match(e);return n?n[0]:null},h=function(s,e,a){for(var n,i,t=0;e<s.length;){if(i=s.charAt(e),n=o(s.substr(e),a),n!==null&&t===0)return{endMatchBegin:e,endMatchEnd:e+n.length};if(i==="{")t++;else if(i==="}"){if(t===0)throw["ExtraCloseMissingOpen","Extra close brace or missing open brace"];t--}e++}return t>0?null:null},n=o(e,g);return n===null?null:(e=e.substr(n.length),n=o(e,p),n===null?null:(t=h(e,n.length,r||f),t===null?null:(i=e.substring(0,r?t.endMatchEnd:t.endMatchBegin),c||l?(s=this.findObserveGroups(e.substr(t.endMatchEnd),c,l,m,d),s===null?null:(a=[i,s.match_],{match_:u?a.join(""):a,remainder:s.remainder})):{match_:i,remainder:e.substr(t.endMatchEnd)})))},match_:function(s,o){var t,n,i=e.patterns.patterns[s];if(i===void 0)throw["MhchemBugP","mhchem bug P. Please report. ("+s+")"];return typeof i=="function"?e.patterns.patterns[s](o):(t=o.match(i),t?(t[2]?n=[t[1],t[2]]:t[1]?n=t[1]:n=t[0],{match_:n,remainder:o.substr(t[0].length)}):null)}},actions:{'a=':function(e,t){e.a=(e.a||"")+t},'b=':function(e,t){e.b=(e.b||"")+t},'p=':function(e,t){e.p=(e.p||"")+t},'o=':function(e,t){e.o=(e.o||"")+t},'q=':function(e,t){e.q=(e.q||"")+t},'d=':function(e,t){e.d=(e.d||"")+t},'rm=':function(e,t){e.rm=(e.rm||"")+t},'text=':function(e,t){e.text_=(e.text_||"")+t},insert:function(n,s,e){return{type_:e}},'insert+p1':function(s,e,t){return{type_:t,p1:e}},'insert+p1+p2':function(s,e,t){return{type_:t,p1:e[0],p2:e[1]}},copy:function(n,e){return e},rm:function(n,e){return{type_:"rm",p1:e||""}},text:function(s,t){return e.go(t,"text")},'{text}':function(o,n){var t=["{"];return e.concatArray(t,e.go(n,"text")),t.push("}"),t},'tex-math':function(s,t){return e.go(t,"tex-math")},'tex-math tight':function(s,t){return e.go(t,"tex-math tight")},bond:function(s,e,t){return{type_:"bond",kind_:t||e}},'color0-output':function(n,e){return{type_:"color0",color:e[0]}},ce:function(s,t){return e.go(t)},'1/2':function(o,t){var e,n=[];return t.match(/^[+-]/)&&(n.push(t.substr(0,1)),t=t.substr(1)),e=t.match(/^([0-9]+|\$[a-z]\$|[a-z])\/([0-9]+)(\$[a-z]\$|[a-z])?$/),e[1]=e[1].replace(/\$/g,""),n.push({type_:"frac",p1:e[1],p2:e[2]}),e[3]&&(e[3]=e[3].replace(/\$/g,""),n.push({type_:"tex-math",p1:e[3]})),n},'9,9':function(s,t){return e.go(t,"9,9")}},createTransitions:function(o){var e,t,n,s,i,a,c,l,d,r={};for(n in o)for(i in o[n]){s=i.split("|"),o[n][i].stateArray=s;for(t=0;t<s.length;t++)r[s[t]]=[]}for(n in o)for(i in o[n]){s=o[n][i].stateArray||[];for(t=0;t<s.length;t++){if(e=o[n][i],e.action_){e.action_=[].concat(e.action_);for(a=0;a<e.action_.length;a++)typeof e.action_[a]=="string"&&(e.action_[a]={type_:e.action_[a]})}else e.action_=[];l=n.split("|");for(c=0;c<l.length;c++)if(s[t]==="*")for(d in r)r[d].push({pattern:l[c],task:e});else r[s[t]].push({pattern:l[c],task:e})}}return r},stateMachines:{}},e.stateMachines={ce:{transitions:e.createTransitions({empty:{'*':{action_:"output"}},else:{'0|1|2':{action_:"beginsWithBond=false",revisit:!0,toContinue:!0}},oxidation$:{0:{action_:"oxidation-output"}},CMT:{r:{action_:"rdt=",nextState:"rt"},rd:{action_:"rqt=",nextState:"rdt"}},arrowUpDown:{'0|1|2|as':{action_:["sb=false","output","operator"],nextState:"1"}},uprightEntities:{'0|1|2':{action_:["o=","output"],nextState:"1"}},orbital:{'0|1|2|3':{action_:"o=",nextState:"o"}},'->':{'0|1|2|3':{action_:"r=",nextState:"r"},'a|as':{action_:["output","r="],nextState:"r"},'*':{action_:["output","r="],nextState:"r"}},'+':{o:{action_:"d= kv",nextState:"d"},'d|D':{action_:"d=",nextState:"d"},q:{action_:"d=",nextState:"qd"},'qd|qD':{action_:"d=",nextState:"qd"},dq:{action_:["output","d="],nextState:"d"},3:{action_:["sb=false","output","operator"],nextState:"0"}},amount:{'0|2':{action_:"a=",nextState:"a"}},'pm-operator':{'0|1|2|a|as':{action_:["sb=false","output",{type_:"operator",option:"\\pm"}],nextState:"0"}},operator:{'0|1|2|a|as':{action_:["sb=false","output","operator"],nextState:"0"}},'-$':{'o|q':{action_:["charge or bond","output"],nextState:"qd"},d:{action_:"d=",nextState:"d"},D:{action_:["output",{type_:"bond",option:"-"}],nextState:"3"},q:{action_:"d=",nextState:"qd"},qd:{action_:"d=",nextState:"qd"},'qD|dq':{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},'-9':{'3|o':{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"3"}},'- orbital overlap':{o:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},d:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"}},'-':{'0|1|2':{action_:[{type_:"output",option:1},"beginsWithBond=true",{type_:"bond",option:"-"}],nextState:"3"},3:{action_:{type_:"bond",option:"-"}},a:{action_:["output",{type_:"insert",option:"hyphen"}],nextState:"2"},as:{action_:[{type_:"output",option:2},{type_:"bond",option:"-"}],nextState:"3"},b:{action_:"b="},o:{action_:{type_:"- after o/d",option:!1},nextState:"2"},q:{action_:{type_:"- after o/d",option:!1},nextState:"2"},'d|qd|dq':{action_:{type_:"- after o/d",option:!0},nextState:"2"},'D|qD|p':{action_:["output",{type_:"bond",option:"-"}],nextState:"3"}},amount2:{'1|3':{action_:"a=",nextState:"a"}},letters:{'0|1|2|3|a|as|b|p|bp|o':{action_:"o=",nextState:"o"},'q|dq':{action_:["output","o="],nextState:"o"},'d|D|qd|qD':{action_:"o after d",nextState:"o"}},digits:{o:{action_:"q=",nextState:"q"},'d|D':{action_:"q=",nextState:"dq"},q:{action_:["output","o="],nextState:"o"},a:{action_:"o=",nextState:"o"}},'space A':{'b|p|bp':{}},space:{a:{nextState:"as"},0:{action_:"sb=false"},'1|2':{action_:"sb=true"},'r|rt|rd|rdt|rdq':{action_:"output",nextState:"0"},'*':{action_:["output","sb=true"],nextState:"1"}},'1st-level escape':{'1|2':{action_:["output",{type_:"insert+p1",option:"1st-level escape"}]},'*':{action_:["output",{type_:"insert+p1",option:"1st-level escape"}],nextState:"0"}},'[(...)]':{'r|rt':{action_:"rd=",nextState:"rd"},'rd|rdt':{action_:"rq=",nextState:"rdq"}},'...':{'o|d|D|dq|qd|qD':{action_:["output",{type_:"bond",option:"..."}],nextState:"3"},'*':{action_:[{type_:"output",option:1},{type_:"insert",option:"ellipsis"}],nextState:"1"}},'. |* ':{'*':{action_:["output",{type_:"insert",option:"addition compound"}],nextState:"1"}},'state of aggregation $':{'*':{action_:["output","state of aggregation"],nextState:"1"}},'{[(':{'a|as|o':{action_:["o=","output","parenthesisLevel++"],nextState:"2"},'0|1|2|3':{action_:["o=","output","parenthesisLevel++"],nextState:"2"},'*':{action_:["output","o=","output","parenthesisLevel++"],nextState:"2"}},')]}':{'0|1|2|3|b|p|bp|o':{action_:["o=","parenthesisLevel--"],nextState:"o"},'a|as|d|D|q|qd|qD|dq':{action_:["output","o=","parenthesisLevel--"],nextState:"o"}},', ':{'*':{action_:["output","comma"],nextState:"0"}},'^_':{'*':{}},'^{(...)}|^($...$)':{'0|1|2|as':{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},'3|o':{action_:"d= kv",nextState:"D"},q:{action_:"d=",nextState:"qD"},'d|D|qd|qD|dq':{action_:["output","d="],nextState:"D"}},'^a|^\\x{}{}|^\\x{}|^\\x|\'':{'0|1|2|as':{action_:"b=",nextState:"b"},p:{action_:"b=",nextState:"bp"},'3|o':{action_:"d= kv",nextState:"d"},q:{action_:"d=",nextState:"qd"},'d|qd|D|qD':{action_:"d="},dq:{action_:["output","d="],nextState:"d"}},'_{(state of aggregation)}$':{'d|D|q|qd|qD|dq':{action_:["output","q="],nextState:"q"}},'_{(...)}|_($...$)|_9|_\\x{}{}|_\\x{}|_\\x':{'0|1|2|as':{action_:"p=",nextState:"p"},b:{action_:"p=",nextState:"bp"},'3|o':{action_:"q=",nextState:"q"},'d|D':{action_:"q=",nextState:"dq"},'q|qd|qD|dq':{action_:["output","q="],nextState:"q"}},'=<>':{'0|1|2|3|a|as|o|q|d|D|qd|qD|dq':{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},'#':{'0|1|2|3|a|as|o':{action_:[{type_:"output",option:2},{type_:"bond",option:"#"}],nextState:"3"}},'{}':{'*':{action_:{type_:"output",option:1},nextState:"1"}},'{...}':{'0|1|2|3|a|as|b|p|bp':{action_:"o=",nextState:"o"},'o|d|D|q|qd|qD|dq':{action_:["output","o="],nextState:"o"}},'$...$':{a:{action_:"a="},'0|1|2|3|as|b|p|bp|o':{action_:"o=",nextState:"o"},'as|o':{action_:"o="},'q|d|D|qd|qD|dq':{action_:["output","o="],nextState:"o"}},'\\bond{(...)}':{'*':{action_:[{type_:"output",option:2},"bond"],nextState:"3"}},'\\frac{(...)}':{'*':{action_:[{type_:"output",option:1},"frac-output"],nextState:"3"}},'\\overset{(...)}':{'*':{action_:[{type_:"output",option:2},"overset-output"],nextState:"3"}},"\\underset{(...)}":{'*':{action_:[{type_:"output",option:2},"underset-output"],nextState:"3"}},"\\underbrace{(...)}":{'*':{action_:[{type_:"output",option:2},"underbrace-output"],nextState:"3"}},'\\color{(...)}{(...)}1|\\color(...){(...)}2':{'*':{action_:[{type_:"output",option:2},"color-output"],nextState:"3"}},'\\color{(...)}0':{'*':{action_:[{type_:"output",option:2},"color0-output"]}},'\\ce{(...)}':{'*':{action_:[{type_:"output",option:2},"ce"],nextState:"3"}},'\\,':{'*':{action_:[{type_:"output",option:1},"copy"],nextState:"1"}},'\\x{}{}|\\x{}|\\x':{'0|1|2|3|a|as|b|p|bp|o|c0':{action_:["o=","output"],nextState:"3"},'*':{action_:["output","o=","output"],nextState:"3"}},others:{'*':{action_:[{type_:"output",option:1},"copy"],nextState:"3"}},else2:{a:{action_:"a to o",nextState:"o",revisit:!0},as:{action_:["output","sb=true"],nextState:"1",revisit:!0},'r|rt|rd|rdt|rdq':{action_:["output"],nextState:"0",revisit:!0},'*':{action_:["output","copy"],nextState:"3"}}}),actions:{'o after d':function(t,s){if((t.d||"").match(/^[0-9]+$/)){var n,o=t.d;t.d=void 0,n=this.output(t),t.b=o}else n=this.output(t);return e.actions["o="](t,s),n},'d= kv':function(e,t){e.d=t,e.dType="kv"},'charge or bond':function(t,s){if(t.beginsWithBond){var n=[];return e.concatArray(n,this.output(t)),e.concatArray(n,e.actions.bond(t,s,"-")),n}t.d=s},'- after o/d':function(t,o,l){var n,s=e.patterns.match_("orbital",t.o||""),r=e.patterns.match_("one lowercase greek letter $",t.o||""),i=e.patterns.match_("one lowercase latin letter $",t.o||""),c=e.patterns.match_("$one lowercase latin letter$ $",t.o||""),a=o==="-"&&(s&&s.remainder===""||r||i||c);return a&&!t.a&&!t.b&&!t.p&&!t.d&&!t.q&&!s&&i&&(t.o="$"+t.o+"$"),n=[],a?(e.concatArray(n,this.output(t)),n.push({type_:"hyphen"})):(s=e.patterns.match_("digits",t.d||""),l&&s&&s.remainder===''?(e.concatArray(n,e.actions["d="](t,o)),e.concatArray(n,this.output(t))):(e.concatArray(n,this.output(t)),e.concatArray(n,e.actions.bond(t,o,"-")))),n},'a to o':function(e){e.o=e.a,e.a=void 0},'sb=true':function(e){e.sb=!0},'sb=false':function(e){e.sb=!1},'beginsWithBond=true':function(e){e.beginsWithBond=!0},'beginsWithBond=false':function(e){e.beginsWithBond=!1},'parenthesisLevel++':function(e){e.parenthesisLevel++},'parenthesisLevel--':function(e){e.parenthesisLevel--},'state of aggregation':function(s,t){return{type_:"state of aggregation",p1:e.go(t,"o")}},comma:function(n,t){var e=t.replace(/\s*$/,''),s=e!==t;return s&&n.parenthesisLevel===0?{type_:"comma enumeration L",p1:e}:{type_:"comma enumeration M",p1:e}},output:function(t,r,a){var n,s,o,i;t.r?(t.rdt==="M"?o=e.go(t.rd,"tex-math"):t.rdt==="T"?o=[{type_:"text",p1:t.rd||""}]:o=e.go(t.rd),t.rqt==="M"?s=e.go(t.rq,"tex-math"):t.rqt==="T"?s=[{type_:"text",p1:t.rq||""}]:s=e.go(t.rq),n={type_:"arrow",r:t.r,rd:o,rq:s}):(n=[],!t.a&&!t.b&&!t.p&&!t.o&&!t.q&&!t.d&&!a||(t.sb&&n.push({type_:"entitySkip"}),!t.o&&!t.q&&!t.d&&!t.b&&!t.p&&a!==2?(t.o=t.a,t.a=void 0):!t.o&&!t.q&&!t.d&&(t.b||t.p)?(t.o=t.a,t.d=t.b,t.q=t.p,t.a=t.b=t.p=void 0):t.o&&t.dType==="kv"&&e.patterns.match_("d-oxidation$",t.d||"")?t.dType="oxidation":t.o&&t.dType==="kv"&&!t.q&&(t.dType=void 0),n.push({type_:"chemfive",a:e.go(t.a,"a"),b:e.go(t.b,"bd"),p:e.go(t.p,"pq"),o:e.go(t.o,"o"),q:e.go(t.q,"pq"),d:e.go(t.d,t.dType==="oxidation"?"oxidation":"bd"),dType:t.dType})));for(i in t)i!=="parenthesisLevel"&&i!=="beginsWithBond"&&delete t[i];return n},'oxidation-output':function(o,n){var t=["{"];return e.concatArray(t,e.go(n,"oxidation")),t.push("}"),t},'frac-output':function(s,t){return{type_:"frac-ce",p1:e.go(t[0]),p2:e.go(t[1])}},'overset-output':function(s,t){return{type_:"overset",p1:e.go(t[0]),p2:e.go(t[1])}},'underset-output':function(s,t){return{type_:"underset",p1:e.go(t[0]),p2:e.go(t[1])}},'underbrace-output':function(s,t){return{type_:"underbrace",p1:e.go(t[0]),p2:e.go(t[1])}},'color-output':function(s,t){return{type_:"color",color1:t[0],color2:e.go(t[1])}},'r=':function(e,t){e.r=t},'rdt=':function(e,t){e.rdt=t},'rd=':function(e,t){e.rd=t},'rqt=':function(e,t){e.rqt=t},'rq=':function(e,t){e.rq=t},operator:function(s,e,t){return{type_:"operator",kind_:t||e}}}},a:{transitions:e.createTransitions({empty:{'*':{}},'1/2$':{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},'$(...)$':{'*':{action_:"tex-math tight",nextState:"1"}},',':{'*':{action_:{type_:"insert",option:"commaDecimal"}}},else2:{'*':{action_:"copy"}}}),actions:{}},o:{transitions:e.createTransitions({empty:{'*':{}},'1/2$':{0:{action_:"1/2"}},else:{0:{nextState:"1",revisit:!0}},letters:{'*':{action_:"rm"}},'\\ca':{'*':{action_:{type_:"insert",option:"circa"}}},'\\x{}{}|\\x{}|\\x':{'*':{action_:"copy"}},'${(...)}$|$(...)$':{'*':{action_:"tex-math"}},'{(...)}':{'*':{action_:"{text}"}},else2:{'*':{action_:"copy"}}}),actions:{}},text:{transitions:e.createTransitions({empty:{'*':{action_:"output"}},'{...}':{'*':{action_:"text="}},'${(...)}$|$(...)$':{'*':{action_:"tex-math"}},'\\greek':{'*':{action_:["output","rm"]}},'\\,|\\x{}{}|\\x{}|\\x':{'*':{action_:["output","copy"]}},else:{'*':{action_:"text="}}}),actions:{output:function(e){if(e.text_){var n,t={type_:"text",p1:e.text_};for(n in e)delete e[n];return t}}}},pq:{transitions:e.createTransitions({empty:{'*':{}},'state of aggregation $':{'*':{action_:"state of aggregation"}},i$:{0:{nextState:"!f",revisit:!0}},'(KV letters),':{0:{action_:"rm",nextState:"0"}},formula$:{0:{nextState:"f",revisit:!0}},'1/2$':{0:{action_:"1/2"}},else:{0:{nextState:"!f",revisit:!0}},'${(...)}$|$(...)$':{'*':{action_:"tex-math"}},'{(...)}':{'*':{action_:"text"}},'a-z':{f:{action_:"tex-math"}},letters:{'*':{action_:"rm"}},'-9.,9':{'*':{action_:"9,9"}},',':{'*':{action_:{type_:"insert+p1",option:"comma enumeration S"}}},'\\color{(...)}{(...)}1|\\color(...){(...)}2':{'*':{action_:"color-output"}},'\\color{(...)}0':{'*':{action_:"color0-output"}},'\\ce{(...)}':{'*':{action_:"ce"}},'\\,|\\x{}{}|\\x{}|\\x':{'*':{action_:"copy"}},else2:{'*':{action_:"copy"}}}),actions:{'state of aggregation':function(s,t){return{type_:"state of aggregation subscript",p1:e.go(t,"o")}},'color-output':function(s,t){return{type_:"color",color1:t[0],color2:e.go(t[1],"pq")}}}},bd:{transitions:e.createTransitions({empty:{'*':{}},x$:{0:{nextState:"!f",revisit:!0}},formula$:{0:{nextState:"f",revisit:!0}},else:{0:{nextState:"!f",revisit:!0}},'-9.,9 no missing 0':{'*':{action_:"9,9"}},'.':{'*':{action_:{type_:"insert",option:"electron dot"}}},'a-z':{f:{action_:"tex-math"}},x:{'*':{action_:{type_:"insert",option:"KV x"}}},letters:{'*':{action_:"rm"}},'\'':{'*':{action_:{type_:"insert",option:"prime"}}},'${(...)}$|$(...)$':{'*':{action_:"tex-math"}},'{(...)}':{'*':{action_:"text"}},'\\color{(...)}{(...)}1|\\color(...){(...)}2':{'*':{action_:"color-output"}},'\\color{(...)}0':{'*':{action_:"color0-output"}},'\\ce{(...)}':{'*':{action_:"ce"}},'\\,|\\x{}{}|\\x{}|\\x':{'*':{action_:"copy"}},else2:{'*':{action_:"copy"}}}),actions:{'color-output':function(s,t){return{type_:"color",color1:t[0],color2:e.go(t[1],"bd")}}}},oxidation:{transitions:e.createTransitions({empty:{'*':{}},'roman numeral':{'*':{action_:"roman-numeral"}},'${(...)}$|$(...)$':{'*':{action_:"tex-math"}},else:{'*':{action_:"copy"}}}),actions:{'roman-numeral':function(n,e){return{type_:"roman numeral",p1:e||""}}}},'tex-math':{transitions:e.createTransitions({empty:{'*':{action_:"output"}},'\\ce{(...)}':{'*':{action_:["output","ce"]}},'{...}|\\,|\\x{}{}|\\x{}|\\x':{'*':{action_:"o="}},else:{'*':{action_:"o="}}}),actions:{output:function(e){if(e.o){var n,t={type_:"tex-math",p1:e.o};for(n in e)delete e[n];return t}}}},'tex-math tight':{transitions:e.createTransitions({empty:{'*':{action_:"output"}},'\\ce{(...)}':{'*':{action_:["output","ce"]}},'{...}|\\,|\\x{}{}|\\x{}|\\x':{'*':{action_:"o="}},'-|+':{'*':{action_:"tight operator"}},else:{'*':{action_:"o="}}}),actions:{'tight operator':function(e,t){e.o=(e.o||"")+"{"+t+"}"},output:function(e){if(e.o){var n,t={type_:"tex-math",p1:e.o};for(n in e)delete e[n];return t}}}},'9,9':{transitions:e.createTransitions({empty:{'*':{}},',':{'*':{action_:"comma"}},else:{'*':{action_:"copy"}}}),actions:{comma:function(){return{type_:"commaDecimal"}}}},pu:{transitions:e.createTransitions({empty:{'*':{action_:"output"}},space$:{'*':{action_:["output","space"]}},'{[(|)]}':{'0|a':{action_:"copy"}},'(-)(9)^(-9)':{0:{action_:"number^",nextState:"a"}},'(-)(9.,9)(e)(99)':{0:{action_:"enumber",nextState:"a"}},space:{'0|a':{}},'pm-operator':{'0|a':{action_:{type_:"operator",option:"\\pm"},nextState:"0"}},operator:{'0|a':{action_:"copy",nextState:"0"}},'//':{d:{action_:"o=",nextState:"/"}},'/':{d:{action_:"o=",nextState:"/"}},'{...}|else':{'0|d':{action_:"d=",nextState:"d"},a:{action_:["space","d="],nextState:"d"},'/|q':{action_:"q=",nextState:"q"}}}),actions:{enumber:function(o,t){var n=[];return t[0]==="+-"||t[0]==="+/-"?n.push("\\pm "):t[0]&&n.push(t[0]),t[1]&&(e.concatArray(n,e.go(t[1],"pu-9,9")),t[2]&&(t[2].match(/[,.]/)?e.concatArray(n,e.go(t[2],"pu-9,9")):n.push(t[2])),t[3]=t[4]||t[3],t[3]&&(t[3]=t[3].trim(),t[3]==="e"||t[3].substr(0,1)==="*"?n.push({type_:"cdot"}):n.push({type_:"times"}))),t[3]&&n.push("10^{"+t[5]+"}"),n},'number^':function(o,t){var n=[];return t[0]==="+-"||t[0]==="+/-"?n.push("\\pm "):t[0]&&n.push(t[0]),e.concatArray(n,e.go(t[1],"pu-9,9")),n.push("^{"+t[2]+"}"),n},operator:function(s,e,t){return{type_:"operator",kind_:t||e}},space:function(){return{type_:"pu-space-1"}},output:function(t){var n,s,o,a,i=e.patterns.match_("{(...)}",t.d||"");i&&i.remainder===''&&(t.d=i.match_),o=e.patterns.match_("{(...)}",t.q||""),o&&o.remainder===''&&(t.q=o.match_),t.d&&(t.d=t.d.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),t.d=t.d.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F")),t.q?(t.q=t.q.replace(/\u00B0C|\^oC|\^{o}C/g,"{}^{\\circ}C"),t.q=t.q.replace(/\u00B0F|\^oF|\^{o}F/g,"{}^{\\circ}F"),s={d:e.go(t.d,"pu"),q:e.go(t.q,"pu")},t.o==="//"?n={type_:"pu-frac",p1:s.d,p2:s.q}:(n=s.d,s.d.length>1||s.q.length>1?n.push({type_:" / "}):n.push({type_:"/"}),e.concatArray(n,s.q))):n=e.go(t.d,"pu-2");for(a in t)delete t[a];return n}}},'pu-2':{transitions:e.createTransitions({empty:{'*':{action_:"output"}},'*':{'*':{action_:["output","cdot"],nextState:"0"}},'\\x':{'*':{action_:"rm="}},space:{'*':{action_:["output","space"],nextState:"0"}},'^{(...)}|^(-1)':{1:{action_:"^(-1)"}},'-9.,9':{0:{action_:"rm=",nextState:"0"},1:{action_:"^(-1)",nextState:"0"}},'{...}|else':{'*':{action_:"rm=",nextState:"1"}}}),actions:{cdot:function(){return{type_:"tight cdot"}},'^(-1)':function(e,t){e.rm+="^{"+t+"}"},space:function(){return{type_:"pu-space-2"}},output:function(t){var n,o,s=[];t.rm&&(n=e.patterns.match_("{(...)}",t.rm||""),n&&n.remainder===''?s=e.go(n.match_,"pu"):s={type_:"rm",p1:t.rm});for(o in t)delete t[o];return s}}},'pu-9,9':{transitions:e.createTransitions({empty:{0:{action_:"output-0"},o:{action_:"output-o"}},',':{0:{action_:["output-0","comma"],nextState:"o"}},'.':{0:{action_:["output-0","copy"],nextState:"o"}},else:{'*':{action_:"text="}}}),actions:{comma:function(){return{type_:"commaDecimal"}},'output-0':function(e){var n,s,o,t=[];if(e.text_=e.text_||"",e.text_.length>4){n=e.text_.length%3,n===0&&(n=3);for(s=e.text_.length-3;s>0;s-=3)t.push(e.text_.substr(s,3)),t.push({type_:"1000 separator"});t.push(e.text_.substr(0,n)),t.reverse()}else t.push(e.text_);for(o in e)delete e[o];return t},'output-o':function(e){var n,s,o,t=[];if(e.text_=e.text_||"",e.text_.length>4){s=e.text_.length-3;for(n=0;n<s;n+=3)t.push(e.text_.substr(n,3)),t.push({type_:"1000 separator"});t.push(e.text_.substr(n))}else t.push(e.text_);for(o in e)delete e[o];return t}}}},n={go:function(s,a){if(!s)return"";for(var t,e="",i=!1,o=0;o<s.length;o++)t=s[o],typeof t=="string"?e+=t:(e+=n._go2(t),t.type_==="1st-level escape"&&(i=!0));return!a&&!i&&e&&(e="{"+e+"}"),e},_goInner:function(e){return e&&n.go(e,!0)},_go2:function(t){switch(t.type_){case"chemfive":e="";var e,i,a,c,l,o={a:n._goInner(t.a),b:n._goInner(t.b),p:n._goInner(t.p),o:n._goInner(t.o),q:n._goInner(t.q),d:n._goInner(t.d)};o.a&&(o.a.match(/^[+-]/)&&(o.a="{"+o.a+"}"),e+=o.a+"\\,"),(o.b||o.p)&&(e+="{\\vphantom{X}}",e+="^{\\hphantom{"+(o.b||"")+"}}_{\\hphantom{"+(o.p||"")+"}}",e+="{\\vphantom{X}}",e+="^{\\smash[t]{\\vphantom{2}}\\mathllap{"+(o.b||"")+"}}",e+="_{\\vphantom{2}\\mathllap{\\smash[t]{"+(o.p||"")+"}}}"),o.o&&(o.o.match(/^[+-]/)&&(o.o="{"+o.o+"}"),e+=o.o),t.dType==="kv"?((o.d||o.q)&&(e+="{\\vphantom{X}}"),o.d&&(e+="^{"+o.d+"}"),o.q&&(e+="_{\\smash[t]{"+o.q+"}}")):t.dType==="oxidation"?(o.d&&(e+="{\\vphantom{X}}",e+="^{"+o.d+"}"),o.q&&(e+="{\\vphantom{X}}",e+="_{\\smash[t]{"+o.q+"}}")):(o.q&&(e+="{\\vphantom{X}}",e+="_{\\smash[t]{"+o.q+"}}"),o.d&&(e+="{\\vphantom{X}}",e+="^{"+o.d+"}"));break;case"rm":e="\\mathrm{"+t.p1+"}";break;case"text":t.p1.match(/[\^_]/)?(t.p1=t.p1.replace(" ","~").replace("-","\\text{-}"),e="\\mathrm{"+t.p1+"}"):e="\\text{"+t.p1+"}";break;case"roman numeral":e="\\mathrm{"+t.p1+"}";break;case"state of aggregation":e="\\mskip2mu "+n._goInner(t.p1);break;case"state of aggregation subscript":e="\\mskip1mu "+n._goInner(t.p1);break;case"bond":if(e=n._getBond(t.kind_),!e)throw["MhchemErrorBond","mhchem Error. Unknown bond type ("+t.kind_+")"];break;case"frac":a="\\frac{"+t.p1+"}{"+t.p2+"}",e="\\mathchoice{\\textstyle"+a+"}{"+a+"}{"+a+"}{"+a+"}";break;case"pu-frac":c="\\frac{"+n._goInner(t.p1)+"}{"+n._goInner(t.p2)+"}",e="\\mathchoice{\\textstyle"+c+"}{"+c+"}{"+c+"}{"+c+"}";break;case"tex-math":e=t.p1+" ";break;case"frac-ce":e="\\frac{"+n._goInner(t.p1)+"}{"+n._goInner(t.p2)+"}";break;case"overset":e="\\overset{"+n._goInner(t.p1)+"}{"+n._goInner(t.p2)+"}";break;case"underset":e="\\underset{"+n._goInner(t.p1)+"}{"+n._goInner(t.p2)+"}";break;case"underbrace":e="\\underbrace{"+n._goInner(t.p1)+"}_{"+n._goInner(t.p2)+"}";break;case"color":e="{\\color{"+t.color1+"}{"+n._goInner(t.color2)+"}}";break;case"color0":e="\\color{"+t.color+"}";break;case"arrow":i={rd:n._goInner(t.rd),rq:n._goInner(t.rq)},l="\\x"+n._getArrow(t.r),i.rq&&(l+="[{"+i.rq+"}]"),i.rd?l+="{"+i.rd+"}":l+="{}",e=l;break;case"operator":e=n._getOperator(t.kind_);break;case"1st-level escape":e=t.p1+" ";break;case"space":e=" ";break;case"entitySkip":e="~";break;case"pu-space-1":e="~";break;case"pu-space-2":e="\\mkern3mu ";break;case"1000 separator":e="\\mkern2mu ";break;case"commaDecimal":e="{,}";break;case"comma enumeration L":e="{"+t.p1+"}\\mkern6mu ";break;case"comma enumeration M":e="{"+t.p1+"}\\mkern3mu ";break;case"comma enumeration S":e="{"+t.p1+"}\\mkern1mu ";break;case"hyphen":e="\\text{-}";break;case"addition compound":e="\\,{\\cdot}\\,";break;case"electron dot":e="\\mkern1mu \\bullet\\mkern1mu ";break;case"KV x":e="{\\times}";break;case"prime":e="\\prime ";break;case"cdot":e="\\cdot ";break;case"tight cdot":e="\\mkern1mu{\\cdot}\\mkern1mu ";break;case"times":e="\\times ";break;case"circa":e="{\\sim}";break;case"^":e="uparrow";break;case"v":e="downarrow";break;case"ellipsis":e="\\ldots ";break;case"/":e="/";break;case" / ":e="\\,/\\,";break;default:throw s(t),["MhchemBugT","mhchem bug T. Please report."]}return r(e),e},_getArrow:function(e){switch(e){case"->":return"rightarrow";case"\u2192":return"rightarrow";case"\u27F6":return"rightarrow";case"<-":return"leftarrow";case"<->":return"leftrightarrow";case"<-->":return"rightleftarrows";case"<=>":return"rightleftharpoons";case"\u21CC":return"rightleftharpoons";case"<=>>":return"rightequilibrium";case"<<=>":return"leftequilibrium";default:throw s(e),["MhchemBugT","mhchem bug T. Please report."]}},_getBond:function(e){switch(e){case"-":return"{-}";case"1":return"{-}";case"=":return"{=}";case"2":return"{=}";case"#":return"{\\equiv}";case"3":return"{\\equiv}";case"~":return"{\\tripledash}";case"~-":return"{\\mathrlap{\\raisebox{-.1em}{$-$}}\\raisebox{.1em}{$\\tripledash$}}";case"~=":return"{\\mathrlap{\\raisebox{-.2em}{$-$}}\\mathrlap{\\raisebox{.2em}{$\\tripledash$}}-}";case"~--":return"{\\mathrlap{\\raisebox{-.2em}{$-$}}\\mathrlap{\\raisebox{.2em}{$\\tripledash$}}-}";case"-~-":return"{\\mathrlap{\\raisebox{-.2em}{$-$}}\\mathrlap{\\raisebox{.2em}{$-$}}\\tripledash}";case"...":return"{{\\cdot}{\\cdot}{\\cdot}}";case"....":return"{{\\cdot}{\\cdot}{\\cdot}{\\cdot}}";case"->":return"{\\rightarrow}";case"<-":return"{\\leftarrow}";case"<":return"{<}";case">":return"{>}";default:throw s(e),["MhchemBugT","mhchem bug T. Please report."]}},_getOperator:function(e){switch(e){case"+":return" {}+{} ";case"-":return" {}-{} ";case"=":return" {}={} ";case"<":return" {}<{} ";case">":return" {}>{} ";case"<<":return" {}\\ll{} ";case">>":return" {}\\gg{} ";case"\\pm":return" {}\\pm{} ";case"\\approx":return" {}\\approx{} ";case"$\\approx$":return" {}\\approx{} ";case"v":return" \\downarrow{} ";case"(v)":return" \\downarrow{} ";case"^":return" \\uparrow{} ";case"(^)":return" \\uparrow{} ";default:throw s(e),["MhchemBugT","mhchem bug T. Please report."]}}};function s(){}function r(){}}(),n=n.default,n}()})